//
// Component: Panel
//
// ========================================================================


// Variables
// ========================================================================

@panel-title-margin-bottom:                     @global-margin;
@panel-title-margin-bottom:                     @global-margin;
@panel-title-font-size:                         @global-h3-font-size;
@panel-title-font-weight:                       @global-alt-1-font-weight;
@panel-title-line-height:                       @global-h3-line-height;
@panel-title-text-transform:                    @global-alt-1-text-transform;
@panel-title-color:                             @global-highlight-color;

@panel-teaser-margin-bottom:                    @panel-box-padding;

@panel-box-padding:                             @global-padding;
@panel-box-background:                          @global-light-background;
@panel-box-color:                               @global-color;
@panel-box-hover-color:                         fade(@panel-box-color, 90%);
@panel-box-title-color:                         @panel-title-color;
@panel-box-badge-top:                           @panel-box-padding;
@panel-box-teaser-margin:                       -(@panel-box-padding + @panel-box-border-width);

@panel-box-primary-background:                  @global-primary-background;
@panel-box-primary-color:                       @global-primary-color;
@panel-box-primary-hover-color:                 fade(@panel-box-primary-color, 90%);
@panel-box-primary-title-color:                 @global-primary-highlight-color;

@panel-box-secondary-background:                rgba(0,0,0,0);
@panel-box-secondary-color:                     @global-color;
@panel-box-secondary-hover-color:               fade(@panel-box-secondary-color, 90%);
@panel-box-secondary-title-color:               @global-highlight-color;

@panel-hover-padding:                           @global-margin;
@panel-hover-color:                             @global-color;
@panel-hover-hover-color:                       @global-color;
@panel-hover-hover-background:                  @global-background;
@panel-hover-teaser-margin:                     -(@panel-hover-padding + 1);

@panel-header-title-border:                     @global-secondary-background;
@panel-header-title-color:                      @panel-title-color;

@panel-space-padding:                           @global-padding-large;

@panel-divider-gutter:                          @global-grid-gutter;
@panel-divider-gutter-large:                    @global-grid-gutter-large;
@panel-divider-border-width:                    @global-border-width;
@panel-divider-border:                          @global-border;

@panel-body-padding:                            @global-padding-large;

//
// New
//

@panel-badge-top:                               5px;

@panel-box-border-width:                        0;
@panel-box-border:                              @panel-box-background;
@panel-box-hover-background:                    darken(@panel-box-background, 2%);
@panel-box-link-color:                          @global-link-color;
@panel-box-link-hover-color:                    @global-link-hover-color;
@panel-box-hover-box-shadow:                    0 15px 45px fade(@global-shadow,6%), 0 3px 10px fade(@global-shadow, 6%);
@panel-box-button-background:                   @global-secondary-background;
@panel-box-button-hover-background:             @global-secondary-hover-background;
@panel-box-button-active-background:            @global-secondary-active-background;

@panel-box-primary-border-width:                0;
@panel-box-primary-border:                      @panel-box-primary-background;
@panel-box-primary-hover-background:            lighten(@panel-box-primary-background, 2%);
@panel-box-primary-link-color:                  @global-primary-link-color;
@panel-box-primary-link-hover-color:            @global-primary-link-hover-color;
@panel-box-primary-hover-box-shadow:            none;

@panel-box-secondary-border-width:              3px;
@panel-box-secondary-border:                    @global-secondary-background;
@panel-box-secondary-hover-border:              @global-border;
@panel-box-secondary-hover-background:          rgba(0,0,0,0);
@panel-box-secondary-link-color:                @global-link-color;
@panel-box-secondary-link-hover-color:          @global-link-hover-color;
@panel-box-secondary-hover-box-shadow:          none;

@panel-hover-border-width:                      0;
@panel-hover-border:                            @global-background;
@panel-hover-background:                        @global-background;
@panel-hover-hover-box-shadow:                  0 15px 45px fade(@global-shadow, 6%), 0 3px 10px fade(@global-shadow, 6%);
@panel-hover-title-color:                       @panel-title-color;

@panel-header-title-border-size:                100%;
@panel-header-title-border-width:               3px;

@panel-space-padding-large:                     @global-grid-gutter-large;

@panel-body-padding-large:                      70px;

@panel-box-padding-large:                       @global-padding-large;
@panel-box-padding-xlarge:                      @global-padding-large;

@panel-box-shadow-blur:                         14px;
@panel-box-shadow-height:                       32px;
@panel-box-shadow-offset-x:                     16px;
@panel-box-shadow-offset-y:                     -4px;
@panel-box-shadow:                              fade(@global-shadow, 80%);


// Sub-object: `uk-panel-title`
// ========================================================================

.hook-panel-title() {}


// Sub-object: `uk-panel-badge`
// ========================================================================

.hook-panel-badge() { top: @panel-badge-top; }


// Modifier: `uk-panel-box`
// ========================================================================

.hook-panel-box() {

    border: @panel-box-border-width solid @panel-box-border;
    border-radius: @global-border-radius;
    -webkit-transition: @global-transition;
    transition: @global-transition;

    // Hyperlink
    > a:not([class]),
    > :not([class*='uk-nav']) a:not([class]) {

        color: @panel-box-link-color;

        &:hover { color: @panel-box-link-hover-color; }

    }

    // Button
    .uk-button:not(.uk-button-primary) { background: @panel-box-button-background; }

    .uk-button:not(.uk-button-primary):hover,
    .uk-button:not(.uk-button-primary):focus { background: @panel-box-button-hover-background; }

    .uk-button:not(.uk-button-primary):active,
    .uk-button:not(.uk-button-primary).uk-active { background: @panel-box-button-active-background; }

    // Shadow
    &::after {
        display: block;
        content: '';
        position: absolute;
        bottom: @panel-box-shadow-offset-y;
        right: @panel-box-shadow-offset-x;
        left: @panel-box-shadow-offset-x;
        z-index: -1;
        height: @panel-box-shadow-height;
        background: @panel-box-shadow;
        opacity: 0;
        -webkit-filter: blur(@panel-box-shadow-blur);
        filter: blur(@panel-box-shadow-blur);
        -webkit-transition: @global-transition;
        transition: @global-transition;
    }

}

// uk-nav-side in uk-panel-box
.uk-panel-box > .uk-nav-side { margin: 0 (-@panel-box-padding); }

// uk-panel-teaser in uk-panel-box
.uk-panel-box > .uk-panel-teaser {
    margin-top: -(@panel-box-padding + @panel-box-border-width);
    margin-left: -(@panel-box-padding + @panel-box-border-width);
    margin-right: -(@panel-box-padding + @panel-box-border-width);
}

// Tablet and bigger
@media (min-width: @breakpoint-medium) {

    .uk-panel-box { padding: @panel-box-padding-large; }

    // uk-nav-side in uk-panel-box
    .uk-panel-box > .uk-nav-side { margin: 0 (-@panel-box-padding-large); }

    // uk-nav-side items in uk-panel-box
    .uk-panel-box .uk-nav-side > li > a {
        padding-right: @panel-box-padding-large;
        padding-left: @panel-box-padding-large;
    }

    // uk-panel-teaser in uk-panel-box
    .uk-panel-box > .uk-panel-teaser {
        margin-top: -(@panel-box-padding-large + @panel-box-border-width);
        margin-left: -(@panel-box-padding-large + @panel-box-border-width);
        margin-right: -(@panel-box-padding-large + @panel-box-border-width);
    }

    .uk-panel-teaser { margin-bottom: (@panel-box-padding-large + @panel-box-border-width); }

}

// Large screen and bigger
@media (min-width: @breakpoint-xlarge) {

    .uk-panel-box { padding: @panel-box-padding-xlarge; }

    // uk-nav-side in uk-panel-box
    .uk-panel-box > .uk-nav-side { margin: 0 (-@panel-box-padding-xlarge); }

    // uk-nav-side items in uk-panel-box
    .uk-panel-box .uk-nav-side > li > a {
        padding-right: @panel-box-padding-xlarge;
        padding-left: @panel-box-padding-xlarge;
    }

    // uk-panel-teaser in uk-panel-box
    .uk-panel-box > .uk-panel-teaser {
        margin-top: -(@panel-box-padding-xlarge + @panel-box-border-width);
        margin-left: -(@panel-box-padding-xlarge + @panel-box-border-width);
        margin-right: -(@panel-box-padding-xlarge + @panel-box-border-width);
    }

    .uk-panel-teaser { margin-bottom: (@panel-box-padding-xlarge + @panel-box-border-width); }

}

.hook-panel-box-hover() {

    background: @panel-box-hover-background;
    box-shadow: @panel-box-hover-box-shadow;

    // Shadow on hover
    &::after { opacity: 1; }

}

// uk-panel-box-primary
.hook-panel-box-primary() {

    border: @panel-box-primary-border-width solid @panel-box-primary-border;

    // Headlines
    h1, .uk-h1, h2, .uk-h2, h3, .uk-h3, h4, .uk-h4, h5, .uk-h5, h6, .uk-h6 { color: @panel-box-primary-title-color; }

    // Hyperlink
    > a:not([class]),
    > :not([class*='uk-nav']) a:not([class]) {

        color: @global-primary-link-color;

        &:hover { color: @global-primary-link-hover-color; }

    }

    // Button component
    .uk-button {

        background: @global-primary-highlight-color;
        color: @global-primary-background;

        &:hover {
            background: fade(@global-primary-highlight-color, 90%);
            color: @global-primary-background;
        }

        &:active,
        &:focus {
            background: fade(@global-primary-highlight-color, 15%);
            box-shadow: none;
            color: @global-primary-highlight-color;
        }

    }

    // Badge
    .uk-badge {
        background-color: @global-primary-highlight-color;
        color: @global-primary-background;
    }

}

.hook-panel-box-primary-hover() {

    background: @panel-box-primary-hover-background;
    box-shadow: @panel-box-primary-hover-box-shadow;

    // Shadow on hover
    &::after { opacity: 1; }

}

// uk-panel-box-secondary
.hook-panel-box-secondary() {

    border: @panel-box-secondary-border-width solid @panel-box-secondary-border;

    // Headlines
    h1, .uk-h1, h2, .uk-h2, h3, .uk-h3, h4, .uk-h4, h5, .uk-h5, h6, .uk-h6 { color: @panel-box-secondary-title-color; }

}

// uk-panel-teaser in uk-panel-box-secondary
.uk-panel-box-secondary > .uk-panel-teaser {
    margin-top: -(@panel-box-padding - @panel-box-secondary-border-width);
    margin-left: -(@panel-box-padding - @panel-box-secondary-border-width);
    margin-right: -(@panel-box-padding - @panel-box-secondary-border-width);
}


// Tablet and bigger
@media (min-width: @breakpoint-medium) {

    // uk-panel-teaser in uk-panel-box-secondary
    .uk-panel-box-secondary > .uk-panel-teaser {
        margin-top: -(@panel-box-padding-large - @panel-box-secondary-border-width);
        margin-left: -(@panel-box-padding-large - @panel-box-secondary-border-width);
        margin-right: -(@panel-box-padding-large - @panel-box-secondary-border-width);
    }

    .uk-panel-teaser { margin-bottom: (@panel-box-padding-large - @panel-box-secondary-border-width); }

}

// Large screen and bigger
@media (min-width: @breakpoint-xlarge) {

    // uk-panel-teaser in uk-panel-box-secondary
    .uk-panel-box-secondary > .uk-panel-teaser {
        margin-top: -(@panel-box-padding-xlarge - @panel-box-secondary-border-width);
        margin-left: -(@panel-box-padding-xlarge - @panel-box-secondary-border-width);
        margin-right: -(@panel-box-padding-xlarge - @panel-box-secondary-border-width);
    }

    .uk-panel-teaser { margin-bottom: (@panel-box-padding-xlarge - @panel-box-secondary-border-width); }

}

.hook-panel-box-secondary-hover() {
    border-color: @panel-box-secondary-hover-border;
    background: @panel-box-secondary-hover-background;
    box-shadow: @panel-box-secondary-hover-box-shadow;
}


// Modifier: `uk-panel-hover`
// ========================================================================

.hook-panel-hover() {

    position: relative;
    border: @panel-hover-border-width solid @panel-hover-border;
    border-radius: @global-border-radius;
    background: @panel-hover-background;
    -webkit-transition: @global-transition;
    transition: @global-transition;

    // Title
    .uk-panel-title { color: @panel-hover-title-color; }

    // Shadow
    &::after {
        display: block;
        content: '';
        position: absolute;
        bottom: @panel-box-shadow-offset-y;
        right: @panel-box-shadow-offset-x;
        left: @panel-box-shadow-offset-x;
        z-index: -1;
        height: @panel-box-shadow-height;
        background: @panel-box-shadow;
        opacity: 0;
        -webkit-filter: blur(@panel-box-shadow-blur);
        filter: blur(@panel-box-shadow-blur);
        -webkit-transition: @global-transition;
        transition: @global-transition;
    }

    .uk-panel-teaser { margin-bottom: @panel-hover-padding; }

}

.hook-panel-hover-hover() {

    box-shadow: @panel-hover-hover-box-shadow;

    // Shadow on hover
    &::after { opacity: 1; }

}


// Modifier: `uk-panel-header`
// ========================================================================

.hook-panel-header() {

    position: relative;
    padding-bottom: 20px;
    border: none;

    &::after {
        display: block;
        width: @panel-header-title-border-size;
        content: "";
        position: absolute;
        right: 0;
        left: 0;
        bottom: 0;
        border-bottom: @panel-header-title-border-width solid @panel-header-title-border;
    }

}


// Miscellaneous
// ========================================================================

.hook-panel-misc() {

    // Panel teaser border radius
    .uk-panel-box .uk-panel-teaser {
        border-top-left-radius: @global-border-radius;
        border-top-right-radius: @global-border-radius;
        overflow: hidden;
        // Fixed `overflow: hidden` to be ignored with border-radius and CSS transforms in Webkit
        -webkit-transform: translateZ(0);
    }

    // uk-panel-header with uk-text-center
    .uk-panel-header.uk-text-center .uk-panel-title::after,
    .uk-text-center > div > .uk-panel-header > .uk-panel-title::after { margin: 0 auto; }

    // uk-badge in uk-panel-space
    .uk-panel-space .uk-badge { top: @panel-space-padding; }

    // uk-panel-badge position on small viewports
    @media (max-width: @breakpoint-small) {

        .uk-panel-badge {
            position: static;
            margin-bottom: @global-margin;
        }

    }

    // Larger paddings on large viewports
    @media (min-width: @breakpoint-xlarge) {

        .uk-panel-space { padding: @panel-space-padding-large; }
        .uk-panel-space .uk-badge { top: @panel-space-padding-large; }
        .uk-panel-body { padding: @panel-body-padding-large; }

    }

}
